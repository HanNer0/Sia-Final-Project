<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Vengeance Saga - Songs</title>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Crimson Text', serif;
      background-color: #080e12;
      color: #f8e8d0;
    }

    header {
      background: #133741;
      padding: 40px 20px;
      text-align: center;
      border-bottom: 2px solid #a88f64;
    }

    header h1 {
      font-size: 2.5em;
      color: #e0c28c;
    }

    

    .container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }

    .saga-banner-wrapper {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
      margin: 20px auto;
    }

    .saga-banner {
      width: 100%;
      max-width: 500px;
      display: block;
      border-radius: 10px;
      border: 2px solid #133741;
      box-shadow: 0 0 15px #133741;
    }

    .saga-nav {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .saga-nav button {
      background-color: #133741;
      color: #fff;
      padding: 10px 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9em;
      transition: background-color 0.3s ease;
    }

    .saga-nav button:hover {
      background-color: #2e7d8a;
    }

    h2 {
      font-size: 1.8em;
      border-bottom: 2px solid #a88f64;
      padding-bottom: 10px;
      margin-top: 30px;
      color: #e6d3a5;
    }

    details {
      background-color: #133741;
      margin: 10px 0;
      padding: 12px 16px;
      border-radius: 6px;
      border-left: 5px solid #a88f64;
      transition: background-color 0.3s;
    }

    details:hover {
      background-color: #2e7d8a;
    }

    details.playing {
      border-left: 5px solid #ffcc00;
      background-color: #2e7d8a;
    }

    summary {
      font-size: 1.2em;
      cursor: pointer;
      color: #e0c28c;
    }

    audio {
      margin: 10px 0;
      width: 100%;
    }

    p {
      margin: 5px 0 15px;
    }

    a {
      color: #e0c28c;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    footer {
      background-color: #133741;
      text-align: center;
      padding: 20px;
      color: #a89f87;
      margin-top: 40px;
      border-top: 2px solid #a88f64;
    }

    #playAllBtn {
      display: block;
      background-color: #133741;
      color: #fff;
      padding: 10px 20px;
      margin: 20px auto;
      border: none;
      font-size: 1em;
      border-radius: 6px;
      cursor: pointer;
    }

    #playAllBtn:hover {
      background-color: #2e7d8a;
    }

    .lyrics-container {
      white-space: pre-wrap;
      display: none;
      margin-top: 10px;
    }

    .lyrics-button {
      background-color: #a88f64;
      color: #000;
      padding: 6px 12px;
      font-size: 0.9em;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .lyrics-button:hover {
      background-color: #c8b789;
    }
  </style>
</head>
<body>
  <header>
    <h1>- The Vengeance Saga -</h1>
    <p>With Ithaca near, Odysseus must fight through the final trials to reclaim his place.</p>
  </header>

  <div class="container">
    <div class="saga-banner-wrapper">
      <div class="saga-nav">
        <button onclick="prevSaga()">← Previous Saga</button>
      </div>
      <img id="sagaImage" src="https://github.com/HanNer0/Sia-Final-Project/blob/main/The%20Vengeance%20Saga%20Album%20Cover.png?raw=true" alt="Underworld Saga Album Cover" class="saga-banner">
      <div class="saga-nav">
        <button onclick="nextSaga()">Next Saga →</button>
      </div>
    </div>

    <h2>Song List</h2>
    <button id="playAllBtn">▶ Play All Songs</button>

    <div class="song-list">
      <details data-lyrics="https://raw.githubusercontent.com/HanNer0/Sia-Final-Project/refs/heads/main/Not%20Sorry%20For%20Loving%20You.txt">
        <summary>Not Sorry for Loving You</summary>
        <audio controls>
          <source src="https://github.com/HanNer0/Sia-Final-Project/raw/refs/heads/main/Not%20Sorry%20for%20Loving%20You.mp3" type="audio/mpeg">
        </audio>
        <button class="lyrics-button">Show Lyrics</button>
        <div class="lyrics-container">Loading lyrics...</div>
      </details>

      <details data-lyrics="https://raw.githubusercontent.com/HanNer0/Sia-Final-Project/refs/heads/main/Dangerous.txt">
        <summary>Dangerous</summary>
        <audio controls>
          <source src="https://github.com/HanNer0/Sia-Final-Project/raw/refs/heads/main/Dangerous.mp3" type="audio/mpeg">
        </audio>
        <button class="lyrics-button">Show Lyrics</button>
        <div class="lyrics-container">Loading lyrics...</div>
      </details>

      <details data-lyrics="https://raw.githubusercontent.com/HanNer0/Sia-Final-Project/refs/heads/main/Charybdis.txt">
        <summary>Charybdis</summary>
        <audio controls>
          <source src="https://github.com/HanNer0/Sia-Final-Project/raw/refs/heads/main/Charybdis.mp3" type="audio/mpeg">
        </audio>
        <button class="lyrics-button">Show Lyrics</button>
        <div class="lyrics-container">Loading lyrics...</div>
      </details>
      
      <details data-lyrics="https://raw.githubusercontent.com/HanNer0/Sia-Final-Project/refs/heads/main/Get%20in%20the%20Water.txt">
        <summary>Get in the Water</summary>
        <audio controls>
          <source src="https://github.com/HanNer0/Sia-Final-Project/raw/refs/heads/main/Get%20in%20the%20Water.mp3" type="audio/mpeg">
        </audio>
        <button class="lyrics-button">Show Lyrics</button>
        <div class="lyrics-container">Loading lyrics...</div>
      </details>
      
      <details data-lyrics="https://raw.githubusercontent.com/HanNer0/Sia-Final-Project/refs/heads/main/Six%20Hundred%20Strike.txt">
        <summary>Six Hundred Strike</summary>
        <audio controls>
          <source src="https://github.com/HanNer0/Sia-Final-Project/raw/refs/heads/main/Six%20Hundred%20Strike.mp3" type="audio/mpeg">
        </audio>
        <button class="lyrics-button">Show Lyrics</button>
        <div class="lyrics-container">Loading lyrics...</div>
      </details>
      
    </div>

    <p><a href="index.html">&larr; Back to Homepage</a></p>
  </div>

  <footer>
    <p>&copy; 2025 Epic: The Musical Fanpage | <a href="#">Contact</a> | <a href="#">Privacy</a></p>
  </footer>

  <script>
    const playAllBtn = document.getElementById('playAllBtn');
    const audios = document.querySelectorAll('audio');
    const detailsList = document.querySelectorAll('details');

    function clearHighlight() {
      detailsList.forEach(d => d.classList.remove('playing'));
    }

    playAllBtn.addEventListener('click', () => {
      let index = 0;

      function playNext() {
        if (index < audios.length) {
          audios.forEach(a => a.pause());
          clearHighlight();
          audios[index].play();
          audios[index].closest('details').classList.add('playing');
          audios[index].addEventListener('ended', playNextOnce);
        }
      }

      function playNextOnce() {
        audios[index].removeEventListener('ended', playNextOnce);
        index++;
        playNext();
      }

      index = 0;
      playNext();
    });

    audios.forEach(audio => {
      audio.addEventListener('play', () => {
        audios.forEach(a => {
          if (a !== audio) a.pause();
        });
        clearHighlight();
        audio.closest('details').classList.add('playing');
      });
    });

    detailsList.forEach(detail => {
      detail.addEventListener('toggle', () => {
        if (detail.open) {
          detailsList.forEach(d => {
            if (d !== detail) d.removeAttribute('open');
          });
        }
      });
    });

    document.querySelectorAll('.lyrics-button').forEach(button => {
      button.addEventListener('click', () => {
        const detail = button.closest('details');
        const lyricsDiv = detail.querySelector('.lyrics-container');
        if (lyricsDiv.style.display === 'none' || lyricsDiv.style.display === '') {
          const file = detail.dataset.lyrics;
          fetch(file)
            .then(response => response.ok ? response.text() : 'Lyrics not found.')
            .then(text => lyricsDiv.textContent = text)
            .catch(() => lyricsDiv.textContent = 'Failed to load lyrics.');
          lyricsDiv.style.display = 'block';
          button.textContent = 'Hide Lyrics';
        } else {
          lyricsDiv.style.display = 'none';
          button.textContent = 'Show Lyrics';
        }
      });
    });

    const sagaImage = document.getElementById('sagaImage');
    const sagaCovers = [
      'https://raw.githubusercontent.com/HanNer0/Sia-Final-Project/main/The%20Troy%20Saga%20Album%20Cover.png',
      'https://raw.githubusercontent.com/HanNer0/Sia-Final-Project/main/AnotherSagaCover.png'
    ];
    function nextSaga() {
      window.location.href = "ithaca.html"; // Change this to the correct URL
    }

    function prevSaga() {
      window.location.href = "wisdom.html"; // Or link to the previous saga's page
    }
  </script>
</body>
</html>

